(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{329:function(e,t,n){},332:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(43),s=n.n(c),i=n(1),o=n.n(i),u=n(2),l=n(40),j=n(47),b=n(113),d=n(67),h=n(39),p=n(231),m=n(197),O=n(227),f=Object(m.a)({apiKey:"AIzaSyCy9Q5bRqojCmB8OWmb3hCeUX4IePejfvY",authDomain:"chat-app-demo-ca0b4.firebaseapp.com",projectId:"chat-app-demo-ca0b4",storageBucket:"chat-app-demo-ca0b4.appspot.com",messagingSenderId:"980695992241",appId:"1:980695992241:web:531116cf3aaced29fe5f90",measurementId:"G-1N8M101L34"}),x=Object(d.c)(f),g=Object(h.d)(f);Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(d.e)(x,d.b);case 1:case"end":return e.stop()}}),e)})))(),Object(O.a)(f);p.a;var v,y,w,k,R,C,I,U,S,L,N,E,_,F,T,M=n(34),A=n(337),z=n(338),D=n(41),B=n(341),W=n(36),Y=n(38),q=n(349),G=n(350),V=n(348),H=n(60),P=n(48),J=n(78),K=function(){if(!x.currentUser)return localStorage.clear(),void window.location.reload()},Q=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,a,c,s,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(),n=x.currentUser,r=n.displayName,a=n.email,c=n.phoneNumber,s=n.photoURL,i=n.uid,u={displayName:r,email:a,phoneNumber:c,photoURL:s,uid:i},e.prev=3,e.next=6,Object(J.a)(Object(J.b)(g,"rooms"),Object(Y.a)(Object(Y.a)({},t),{},{photo:"",members:[i],messages:[],info_member:[{infoUser:u}],created_at:Object(J.i)()}));case 6:return e.abrupt("return",{status:!0});case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",{error:e.t0,status:!1});case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(),(r=Array.from(t.messages)).push({id:t.id,message:n,created_at:(new Date).getTime(),user:{id:x.currentUser.uid,displayName:x.currentUser.displayName,photoURL:x.currentUser.photoURL}}),e.prev=3,console.log(t.id),e.next=7,Object(J.j)(Object(J.c)(Object(J.b)(g,"rooms"),t.id),{messages:r});case 7:return e.abrupt("return",{status:!0});case 10:return e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",{error:e.t0,status:!1});case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(),e.prev=1,e.next=4,Object(J.a)(Object(J.b)(g,"users"),{displayName:x.currentUser.displayName,photoURL:x.currentUser.photoURL,email:x.currentUser.email,phoneNumber:x.currentUser.phoneNumber,uid:x.currentUser.uid,keywords:$(x.currentUser.displayName),created_at:Object(J.i)()});case 4:return e.abrupt("return",{status:!0});case 7:return e.prev=7,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",{status:!1,error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),$=function(e){for(var t=e.split(" ").filter((function(e){return e})),n=t.length,r=[],a=[],c=[],s=0;s<n;s++)r[s]=!1;!function e(s){for(var i=0;i<n;i++)r[i]||(r[i]=!0,a[s]=t[i],s===n-1&&c.push(a.join(" ")),e(s+1),r[i]=!1)}(0);var i=c.reduce((function(e,t){var n=function(e){var t=[],n="";return e.split("").forEach((function(e){n+=e,t.push(n.toUpperCase())})),t}(t);return[].concat(Object(P.a)(e),Object(P.a)(n))}),[]);return i},ee=n(74),te=Object(ee.b)({name:"room",initialState:{currentRoom:null,listRoom:null},reducers:{setCurrentRoom:function(e,t){e.currentRoom=t.payload},setListRoom:function(e,t){e.listRoom=t.payload},resetRoom:function(e){e.currentRoom=null}}}),ne=te.actions,re=ne.setCurrentRoom,ae=ne.setListRoom,ce=ne.resetRoom,se=te.reducer,ie=n(221),oe=n(10),ue=Object(D.a)(A.a)(v||(v=Object(l.a)(["\n\tmax-width: 650px;\n\twidth: 100%;\n\tpadding: 10px;\n  .cs-message{\n    &-list, &-input, &__sent-time{\n      ","\n    }\n  }\n"])),(function(e){return e.theme.theme?e.theme.light:e.theme.dark})),le=function(e){var t=Object(W.c)((function(e){return e.themeReducer})),n=e.messages,r=Object(W.b)(),a=function(){var t=Object(u.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return a=n.trim(),t.next=5,X(e,a);case 5:t.sent.status&&Object(h.e)(Object(h.b)(g,"rooms",e.id),(function(e){r(re(Object(Y.a)(Object(Y.a)({},e.data()),{},{id:e.id})))}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(e){return e.getDate()},s=function(e){return e.getFullYear()},i=function(e){return e.getMonth()},l=function(e){return e.getHours()},j=function(e){return e.getMinutes()},b=function(e){return e.getSeconds()},d=function(e){var t=new Date(e);return{Y:s(t),M:i(t),D:c(t),h:l(t),m:j(t),s:b(t)}};return Object(oe.jsx)(A.a,{justify:"center",children:Object(oe.jsx)(ue,{align:"center",theme:t,children:Object(oe.jsx)(z.a,{span:24,children:Object(oe.jsxs)(H.a,{style:{height:"80vh"},children:[Object(oe.jsx)(H.h,{children:n&&n.map((function(e){var t,n;return Object(oe.jsxs)(H.f,{direction:x.currentUser.uid===e.user.id?"outgoing":"incoming",sender:e.user.displayName,children:[Object(oe.jsx)(V.a,{as:"Avatar",src:e.user.photoURL,children:null===(t=e.user.displayName)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase()}),Object(oe.jsxs)(H.f.Messages,{children:[Object(oe.jsx)(H.e,{model:{message:e.message}}),Object(oe.jsx)(H.e.Footer,{sentTime:Object(ie.a)(new Date(d(e.created_at).Y,d(e.created_at).M,d(e.created_at).D,d(e.created_at).h,d(e.created_at).m,d(e.created_at).s),{addSuffix:!0,includeSeconds:!0})})]})]})}))}),Object(oe.jsx)(H.g,{onSend:a,placeholder:"Type message here...",attachButton:!1})]})})})})},je=n(83),be=n(225),de=Object(ee.b)({name:"modal",initialState:{isOpen:!1,isOpenInvite:!1},reducers:{setIsOpenModalTrue:function(e){e.isOpen=!0},setIsOpenModalFalse:function(e){e.isOpen=!1},setIsOpenInviteTrue:function(e){e.isOpenInvite=!0},setIsOpenInviteFalse:function(e){e.isOpenInvite=!1}}}),he=de.actions,pe=he.setIsOpenModalFalse,me=he.setIsOpenModalTrue,Oe=he.setIsOpenInviteFalse,fe=he.setIsOpenInviteTrue,xe=de.reducer,ge=Object(D.a)(H.c)(y||(y=Object(l.a)(["\n   ","\n   .cs-conversation-header{\n     &__user-name, &__info{\n      ","\n     }\n   }\n"])),(function(e){return e.theme.theme?e.theme.light:e.theme.dark}),(function(e){return e.theme.theme?e.theme.light:e.theme.dark})),ve=function(e){var t,n,a=Object(W.b)(),c=Object(W.c)((function(e){return e.roomReducer.currentRoom})).id,s=Object(W.c)((function(e){return e.themeReducer}));return Object(r.useEffect)((function(){var t=Object(h.e)(Object(h.b)(g,"rooms",e.id),(function(e){a(re(Object(Y.a)(Object(Y.a)({},e.data()),{},{id:c})))}));return function(){return t()}}),[a,c,e]),Object(oe.jsxs)(ge,{theme:s,children:[Object(oe.jsx)(H.c.Back,{onClick:function(){window.innerWidth<576&&e.setState(0),a(ce())}}),Object(oe.jsx)(V.a,{as:"Avatar",size:"large",src:e.photo,children:null===e||void 0===e||null===(t=e.room_name)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase()}),Object(oe.jsx)(H.c.Content,{userName:e.room_name,info:e.description}),Object(oe.jsxs)(H.c.Actions,{children:[Object(oe.jsx)(je.a,{icon:Object(oe.jsx)(be.a,{}),size:"large",shape:"circle",as:"Avatar",onClick:function(){return a(fe())}}),Object(oe.jsx)(V.a.Group,{as:"Avatar",maxCount:2,children:e.info_member.map((function(e,t){var n,r;return Object(oe.jsx)(V.a,{src:e.infoUser.photoURL,size:"large",children:null===(n=e.infoUser.displayName)||void 0===n||null===(r=n.charAt(0))||void 0===r?void 0:r.toUpperCase()},t)}))})]})]})},ye=Object(D.a)(A.a)(w||(w=Object(l.a)(["\n\tflex-direction: column;\n\twidth: 100%;\n"]))),we=function(e){var t=Object(W.c)((function(e){return e.roomReducer})).currentRoom;return Object(oe.jsx)(ye,{justify:"center",children:t?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(z.a,{children:Object(oe.jsx)(q.a,{offsetTop:!0,children:Object(oe.jsx)(ve,Object(Y.a)(Object(Y.a)({},t),e))})}),Object(oe.jsx)(z.a,{children:Object(oe.jsx)(le,Object(Y.a)({},t))})]}):Object(oe.jsx)(G.a,{message:"You haven't selected any chat yet.",showIcon:!0,type:"info",closable:!0})})},ke=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(h.g)(Object(h.a)(g,"rooms"),Object(h.i)("members","array-contains",t)),e.prev=1,r=[],e.next=5,Object(h.c)(n);case 5:return e.sent.forEach((function(e){r.push(Object.assign(e.data(),{id:e.id}))})),e.abrupt("return",{result:r,status:!0});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{error:e.t0,status:!1});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=Object(h.a)(g,"users"),e.prev=3,r=[],a=Object(h.g)(n,Object(h.i)("keywords","array-contains",null===t||void 0===t?void 0:t.toUpperCase()),Object(h.f)("displayName")),e.next=8,Object(h.c)(a);case 8:return e.sent.forEach((function(e){r.push(e.data())})),e.abrupt("return",{status:!0,result:r});case 13:return e.prev=13,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",{status:!1,error:e.t0});case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(h.g)(Object(h.a)(g,"users"),Object(h.i)("uid","==",t)),e.next=4,Object(h.c)(n);case 4:return e.sent.forEach((function(e){r=e.data()})),e.abrupt("return",{status:!0,result:r});case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{status:!1,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Ie=D.a.div(k||(k=Object(l.a)(["\n\tmargin-top: 65px;\n\tposition: relative;\n\theight: 80vh;\n\toverflow: scroll;\n\tpadding: 5px;\n\tborder-top: 2px solid #000;\n\tborder-right: 2px solid #000;\n\t-ms-overflow-style: none; /* IE and Edge */\n\tscrollbar-width: none; /* Firefox */\n\t/* Hide scrollbar for Chrome, Safari and Opera */\n\t&::-webkit-scrollbar {\n\t\tdisplay: none;\n\t}\n\tbutton {\n\t\tposition: absolute;\n\t\tbottom: 20px;\n\t\tright: 10px;\n\t}\n\t.cs-conversation__name, .cs-conversation__info{\n\t   color: ","\n\t}\n"])),(function(e){return e.theme.theme?"#000":"#fff"})),Ue=function(e){var t,n,r=Object(W.b)();return Object(oe.jsx)(H.b,{onClick:function(){r(re(e)),window.innerWidth<576&&e.setState(2)},name:e.room_name,info:e.description,children:Object(oe.jsx)(V.a,{as:"Avatar",src:e.photoURL,style:{marginRight:"10px"},children:null===e||void 0===e||null===(t=e.room_name)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase()})})},Se=function(e){var t=Object(W.c)((function(e){return e})),n=t.roomReducer.listRoom,a=t.themeReducer,c=Object(W.b)();return Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=x.currentUser,!e.t0){e.next=5;break}return e.next=4,ke(x.currentUser.uid);case 4:e.t0=e.sent;case 5:(t=e.t0)&&c(ae(t.result));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=Object(h.e)(Object(h.a)(g,"rooms"),(function(t){e()}));return function(){return t()}}),[c]),Object(oe.jsx)(Ie,{theme:a,children:Object(oe.jsx)(H.d,{children:n&&n.length?n.map((function(t,n){return Object(oe.jsx)(Ue,Object(Y.a)(Object(Y.a)({},t),e),n)})):Object(oe.jsx)(G.a,{as:"Conversation",type:"info",message:"You haven't joined any room yet!",showIcon:!0})})})},Le=n(87),Ne=n(344),Ee=n(353),_e=n(343),Fe=n(354),Te=n(351),Me=n(355),Ae=n(357),ze=n(358),De=n(339),Be=n(102),We=n(359),Ye=Object(ee.b)({name:"theme",initialState:{theme:!0,light:{background:"#fff",color:"#000"},dark:{background:"#00152a",color:"#fff"},loading:!1},reducers:{setTheme:function(e){e.theme=!e.theme},setLoadingTrue:function(e){e.loading=!0},setLoadingFalse:function(e){e.loading=!1}}}),qe=Ye.actions,Ge=qe.setTheme,Ve=qe.setLoadingFalse,He=qe.setLoadingTrue,Pe=Ye.reducer,Je=D.a.div(R||(R=Object(l.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 60px;\n\tpadding: 5px;\n\t.ant-row .ant-col {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t}\n\th1{\n\t  ","\n\t}\n"])),(function(e){return e.theme.theme?e.theme.light:e.theme.dark})),Ke=function(){var e=Object(W.b)();return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(Le.a,{title:"Create Chat Room",children:Object(oe.jsx)(je.a,{shape:"circle",size:"large",type:"primary",onClick:function(){e(me())},children:Object(oe.jsx)(Me.a,{})})})})},Qe=Object(D.a)(Ne.a)(C||(C=Object(l.a)(["\n borderRadius: 10px;\n .ant-typography{\n  color: ","\n }\n"])),(function(e){return e.themecus.theme?"#000":"#fff"})),Xe=function(e){var t=Object(W.b)(),n=Object(W.c)((function(e){return e.themeReducer}));return Object(oe.jsxs)(Qe,{themecus:n,theme:n.theme?"light":"dark",children:[Object(oe.jsx)(Ne.a.Item,{onClick:function(){return e.setState(1)},style:{borderRadius:"10px"},children:Object(oe.jsxs)(Ee.b,{children:[Object(oe.jsx)(Ae.a,{}),Object(oe.jsx)(_e.a.Text,{children:"Setting"})]})}),Object(oe.jsx)(Ne.a.Item,{children:Object(oe.jsxs)(Ee.b,{children:[Object(oe.jsx)(ze.a,{}),Object(oe.jsx)(_e.a.Text,{children:"Dark Mode"}),Object(oe.jsx)(Fe.a,{checked:!n.theme,onClick:function(){t(Ge()),e.setIsDisplay(!1)}})]})})]})},Ze=function(e){var t=Object(r.useState)(!1),n=Object(M.a)(t,2),a=n[0],c=n[1];return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(Te.a,{overlay:Object(oe.jsx)(Xe,Object(Y.a)(Object(Y.a)({},e),{},{setIsDisplay:c})),placement:"bottomRight",visible:a,children:Object(oe.jsx)("div",{children:a?Object(oe.jsx)(De.a,{style:{color:"black",fontSize:"30px"},component:Be.a,onClick:function(){return c(!1)}}):Object(oe.jsx)(De.a,{type:"black",style:{fontSize:"30px"},component:We.a,onClick:function(){return c(!0)}})})})})},$e=function(e){var t=Object(W.c)((function(e){return e.themeReducer}));return Object(oe.jsx)(Je,{theme:t,children:Object(oe.jsxs)(A.a,{justify:"center",align:"center",children:[Object(oe.jsx)(z.a,{span:4,children:Object(oe.jsx)(Ze,Object(Y.a)({},e))}),Object(oe.jsx)(z.a,{span:16,children:Object(oe.jsx)("center",{children:Object(oe.jsx)("h1",{children:"ROOM LIST"})})}),Object(oe.jsx)(z.a,{span:4,children:Object(oe.jsx)(Ke,{})})]})})},et=n(342),tt=n(347),nt=n(356),rt=n(360),at=Object(D.a)(A.a)(I||(I=Object(l.a)(["\n\tbox-shadow: 0 4px 6px -6px #222;\n\tmargin-bottom: 20px;\n\t.ant-typography{ \n\t  margin-left: 20px;\n\t  ","\n\t}\n"])),(function(e){return e.theme.theme?e.theme.light:e.theme.dark})),ct=function(e){var t=Object(W.c)((function(e){return e.themeReducer}));return Object(oe.jsxs)(at,{justify:"start",align:"middle",theme:t,children:[Object(oe.jsx)(z.a,{children:Object(oe.jsx)(Le.a,{title:"Back",children:Object(oe.jsx)(je.a,{onClick:function(){return e.setState(0)},icon:Object(oe.jsx)(nt.a,{}),size:"large",shape:"circle"})})}),Object(oe.jsx)(z.a,{children:Object(oe.jsx)(_e.a.Title,{level:2,children:"Settings"})})]})},st=function(e){return Object(oe.jsxs)(et.a,Object(Y.a)(Object(Y.a)({},e),{},{name:"form_name",labelCol:{span:4},wrapperCol:{span:20},children:[Object(oe.jsx)(et.a.Item,{label:"Full Name",name:"username",rules:[{require:!0,message:"Please input your username"}],children:Object(oe.jsx)(tt.a,{disabled:!0,defaultValue:e.displayName})}),Object(oe.jsx)(et.a.Item,{label:"Email",name:"email",rules:[{require:!0,message:"Please input your username"}],children:Object(oe.jsx)(tt.a,{disabled:!0,defaultValue:e.email})})]}))},it=D.a.div(U||(U=Object(l.a)(["\n\tpadding: 5px;\n  .ant-typography, label{\n    ","\n  }\n"])),(function(e){return e.theme.theme?e.theme.light:e.theme.dark})),ot=function(){var e,t,n=Object(j.f)(),r=Object(W.c)((function(e){return e})),a=r.userReducer,c=r.themeReducer,s=a.user;return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(it,{theme:c,children:[Object(oe.jsxs)(A.a,{justify:"center",align:"center",children:[Object(oe.jsx)(V.a,{size:"large",src:s&&s.photoURL,children:s&&(null===(e=s.displayName)||void 0===e||null===(t=e.slice(0,1))||void 0===t?void 0:t.toUpperCase())}),Object(oe.jsx)(_e.a.Title,{level:2,style:{marginLeft:"10px"},children:s&&s.displayName})]}),Object(oe.jsx)(st,Object(Y.a)({style:{margin:"20px 0px"}},s)),Object(oe.jsx)(A.a,{justify:"center",style:{marginTop:"20px"},children:Object(oe.jsx)(Le.a,{title:"Loggout",children:Object(oe.jsxs)(je.a,{block:!0,shape:"round",size:"large",onClick:function(){var e=Object(d.c)();Object(d.g)(e).then((function(){localStorage.clear(),n.push("/login")}))},children:[Object(oe.jsx)(rt.a,{})," Loggout"]})})})]})})},ut=function(e){return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(ct,Object(Y.a)({},e)),Object(oe.jsx)(ot,{})]})},lt=n(352),jt=function(){var e=Object(r.useState)(0),t=Object(M.a)(e,2),n=t[0],a=t[1];return Object(oe.jsx)(lt.a,{exitBeforeEnter:!0,children:1===n?Object(oe.jsx)(B.a.div,{initial:{x:-100},animate:{x:0},exit:{x:"-100vw"},children:Object(oe.jsx)(ut,{setState:a})},"modal"):2===n?Object(oe.jsx)(B.a.div,{initial:{x:-100},animate:{x:0},exit:{x:"-100vw"},children:Object(oe.jsx)(we,{setState:a})},"modal"):Object(oe.jsxs)(B.a.div,{initial:{opacity:0},animate:{opacity:1},children:[Object(oe.jsx)($e,{setState:a}),Object(oe.jsx)(Se,{setState:a})]})})},bt=Object(D.a)(A.a)(S||(S=Object(l.a)(["\n\theight: 90vh;\n\t","\n"])),(function(e){return e.theme.theme?e.theme.light:e.theme.dark})),dt=function(){var e=window.innerWidth,t=Object(r.useState)(!0),n=Object(M.a)(t,2),a=n[0],c=n[1];e<768&&a&&c(!1);var s=Object(W.c)((function(e){return e.themeReducer}));return Object(r.useEffect)((function(){return window.addEventListener("resize",(function(){window.innerWidth<768?a&&c(!1):a||c(!0)}))}),[a]),Object(oe.jsx)(B.a.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:.5},children:Object(oe.jsxs)(bt,{justify:"center",theme:s,children:[Object(oe.jsx)(z.a,{span:24,lg:8,md:10,xxl:6,children:Object(oe.jsx)(jt,{})}),a?Object(oe.jsx)(z.a,{span:24,lg:16,md:14,xxl:18,children:Object(oe.jsx)(we,{})}):""]})})},ht=n.p+"static/media/logo.e6ac4b87.png",pt=D.a.div(L||(L=Object(l.a)(["\n\tpadding: 20px;\n\timg {\n\t\twidth: ",";\n\t}\n"])),(function(e){return e.width<400?e.width-20+"px":"387px"})),mt=function(){return Object(oe.jsx)(pt,{width:window.innerWidth,children:Object(oe.jsxs)("center",{children:[Object(oe.jsx)("img",{src:ht,alt:"logo"}),Object(oe.jsx)("h1",{children:"LOGIN"})]})})},Ot=n(361),ft=n(362),xt=n.p+"static/media/author.48cafb7b.gif",gt=D.a.div(N||(N=Object(l.a)(["\n\tpadding: 10px;\n"]))),vt=function(){var e=Object(j.f)(),t=Object(W.b)(),n=function(){var n=Object(u.a)(o.a.mark((function n(){var r,a,c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(He()),r=new d.a,n.prev=2,n.next=5,Object(d.f)(x,r);case 5:if(a=n.sent,console.log(a),c=1*a.user.metadata.createdAt,!(1*a.user.metadata.lastLoginAt-c<=1e3)){n.next=12;break}return n.next=12,Z();case 12:return t(Ve()),n.abrupt("return",e.push("/home"));case 16:n.prev=16,n.t0=n.catch(2),t(Ve()),alert("Error!");case 20:case"end":return n.stop()}}),n,null,[[2,16]])})));return function(){return n.apply(this,arguments)}}();return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(gt,{children:Object(oe.jsxs)("center",{children:[Object(oe.jsxs)(Ee.b,{align:"end",children:[Object(oe.jsx)(je.a,{shape:"round",type:"primary",ghost:!0,icon:Object(oe.jsx)(Ot.a,{}),children:"Google"}),Object(oe.jsx)(je.a,{onClick:n,shape:"round",danger:!0,type:"ghost",icon:Object(oe.jsx)(ft.a,{}),children:"Facebook"})]}),Object(oe.jsxs)("div",{children:["Design by ",Object(oe.jsx)("img",{src:xt,alt:"author"})]})]})})})},yt=[{path:"/home",component:dt},{path:"/login",component:function(){return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(mt,{}),Object(oe.jsx)(vt,{})]})}}],wt=function(){var e=Object(j.f)();return Object(r.useLayoutEffect)((function(){Object(d.d)(x,(function(t){if(t)return e.push("/home")}))}),[e]),Object(oe.jsx)(oe.Fragment,{children:yt.map((function(e){return Object(oe.jsx)(j.a,{exact:!0,path:e.path,component:e.component},e.path)}))})},kt=n(76),Rt=Object(ee.b)({name:"user",initialState:{user:null,isLogin:!1},reducers:{setIsLoginTrue:function(e,t){e.user=t.payload,e.isLogin=!0},setIsLoginFalse:function(e){e.user=null,e.isLogin=!1}}}),Ct=Rt.actions,It=Ct.setIsLoginFalse,Ut=Ct.setIsLoginTrue,St=Rt.reducer,Lt=Object(ee.b)({name:"message",initialState:{currentMessage:[]},reducers:{setMessage:function(e,t){e.currentMessage=t.payload},resetMessage:function(e){e.currentMessage=[]}}}),Nt=Lt.actions,Et=(Nt.setMessage,Nt.resetMessage,Lt.reducer),_t=Object(kt.b)({userReducer:St,modalReducer:xe,roomReducer:se,themeReducer:Pe,messageReducer:Et}),Ft=Object(ee.a)({reducer:_t}),Tt=n(346),Mt=n(232),At=Object(D.a)(Tt.a)(E||(E=Object(l.a)(["\n  .ant-modal{\n    &-content, &-header, label, h2{\n      ","\n    }\n  }\n  label, h2{\n      ","\n    }\n"])),(function(e){return e.theme.theme?e.theme.light:e.theme.dark}),(function(e){return e.theme.theme?e.theme.light:e.theme.dark})),zt=function(){var e=Object(W.b)(),t=Object(W.c)((function(e){return e})),n=t.modalReducer.isOpen,a=t.themeReducer,c=et.a.useForm(),s=Object(M.a)(c,1)[0],i=Object(r.useState)(!1),l=Object(M.a)(i,2),j=l[0],b=l[1],d=function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b(!0),(n=s.getFieldValue()).room_name&&n.description){t.next=6;break}return e(pe()),Mt.a.warning({message:"WARNING!",description:"Room name or description rooms invalid!"}),t.abrupt("return");case 6:return t.next=8,Q(Object(Y.a)({},n));case 8:t.sent.status?Mt.a.success({message:"Create successfully!",description:"Happy fund!"}):Mt.a.error({message:"Error!",description:"Try again!"}),e(pe());case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(oe.jsx)(At,{theme:a,visible:n,onCancel:function(){e(pe())},title:Object(oe.jsx)("center",{children:Object(oe.jsx)("h2",{children:"Create New Room"})}),onOk:d,confirmLoading:j,children:Object(oe.jsxs)(et.a,{form:s,children:[Object(oe.jsx)(et.a.Item,{name:"room_name",label:"Name",labelCol:{span:4},rules:[{required:!0}],children:Object(oe.jsx)(tt.a,{placeholder:"Enter your room name... "})}),Object(oe.jsx)(et.a.Item,{name:"description",label:"Description",labelCol:{span:4},rules:[{required:!0}],children:Object(oe.jsx)(tt.a.TextArea,{placeholder:"Description..."})})]})})},Dt=n(345),Bt=n(340),Wt=n(127),Yt=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r,a,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=1,a=function(e){return r=e},c=Array.from(n.info_member),s=Array.from(n.members),t.forEach(function(){var e=Object(u.a)(o.a.mark((function e(t){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===s.indexOf(t)){e.next=3;break}return a(2),e.abrupt("return");case 3:return e.next=5,Ce(t);case 5:if(!(r=e.sent).status){e.next=23;break}return i=r.result,c.push({infoUser:{displayName:i.displayName,email:i.email,uid:i.uid,photoURL:i.photoURL,phoneNumber:i.phoneNumber}}),s.push(t),e.prev=10,e.next=13,Object(h.h)(Object(h.b)(g,"rooms",n.id),{info_member:c,members:s});case 13:return e.abrupt("return");case 16:return e.prev=16,e.t0=e.catch(10),console.log(e.t0),a(0),e.abrupt("return");case 21:e.next=25;break;case 23:return a(0),e.abrupt("return");case 25:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",{status:r});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qt=n(164),Gt=n.n(qt),Vt=Object(D.a)(Tt.a)(_||(_=Object(l.a)(["\n  .ant-modal{\n    &-content, &-header, label, h2{\n      ","\n    }\n  }\n  label, h2{\n      ","\n    }\n"])),(function(e){return e.theme.theme?e.theme.light:e.theme.dark}),(function(e){return e.theme.theme?e.theme.light:e.theme.dark})),Ht=function(){var e=Object(r.useState)({loading:!1,data:[],value:""}),t=Object(M.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(M.a)(c,2),i=s[0],l=s[1],j=Object(W.b)(),b=Object(W.c)((function(e){return e})),d=b.modalReducer,h=b.roomReducer,p=b.themeReducer,m=Object(r.useCallback)(Gt()(function(){var e=Object(u.a)(o.a.mark((function e(t){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(t);case 2:(r=e.sent).status&&(c=[],r.result.forEach((function(e){var t,n;c.push({label:Object(oe.jsxs)(oe.Fragment,{children:[" ",Object(oe.jsxs)(V.a,{src:e.photoURL,style:{marginRight:"10px"},children:[null===e||void 0===e||null===(t=e.displayName)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase()," "]}),e.displayName," "]}),value:e.uid})})),a(Object(Y.a)(Object(Y.a)({},n),{},{loading:!1,data:c})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),1500),[]),O=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Yt(i,h.currentRoom);case 4:t=e.sent,Mt.a[1===t.status?"success":"error"]({message:1===t.status?"SUCCESS!":"ERROR!",description:1===t.status?"Invited successfully!":2===t.status?"Member was in room":"Error"}),j(Oe());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(oe.jsxs)(Vt,{theme:p,visible:d.isOpenInvite,onCancel:function(){j(Oe())},title:Object(oe.jsxs)("center",{children:[" ",Object(oe.jsx)("h2",{children:" Invite Friend "})," "]}),onOk:O,children:[" ",Object(oe.jsx)(Dt.a,{mode:"multiple",onBlur:function(){a({loading:!1,data:[],value:""})},allowClear:!0,style:{width:"100%"},placeholder:"Enter your friend name...",onChange:function(e){return l(e)},onSearch:function(e){a(Object(Y.a)(Object(Y.a)({},n),{},{value:e})),e&&(n.loading||a({data:[],loading:!0}),m(e.trim()))},searchValue:n.value,notFoundContent:n.loading?Object(oe.jsx)("center",{children:Object(oe.jsx)(Bt.a,{size:"large"})}):Object(oe.jsx)(Wt.a,{}),options:n.data})," "]})},Pt=function(){var e=Object(W.c)((function(e){return e})).modalReducer;return Object(oe.jsxs)(oe.Fragment,{children:[e.isOpen&&Object(oe.jsx)(zt,{}),e.isOpenInvite&&Object(oe.jsx)(Ht,{})]})},Jt=(n(329),n(330),D.a.div(F||(F=Object(l.a)(['\n\twidth: 100vw;\n\theight: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items:center;\n\t.loader {\n\t\twidth: 100px;\n\t\theight: 75px;\n\t\tmargin: 0 auto;\n\t\tbackground: #E4E9BE;\n\t\tposition: relative;\n\t\tborder-radius: 100%;\n\t}\n\t.loader:before {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t\tbox-sizing: border-box;\n\t\tborder: 15px solid transparent;\n\t\tborder-top: 25px solid #E4E9BE;\n\t\ttransform: rotate(45deg);\n\t\ttop: 50px;\n\t\tleft: -15px;\n\t}\n\n\t.loader:after {\n\t\tcontent: "";\n\t\twidth: 12px;\n\t\theight: 12px;\n\t\tposition: absolute;\n\t\tleft: 50%;\n\t\ttop: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\tborder-radius: 50%;\n\t\tbackground-color: #ff3d00;\n\t\tbox-shadow: 20px 0 #ff3d00, -20px 0 #ff3d00;\n\t\tanimation: flash 0.5s ease-out infinite alternate;\n\t}\n\n\t@keyframes flash {\n\t\t0% {\n\t\t\tbackground-color: rgba(255, 60, 0, 0.25);\n\t\t\tbox-shadow: 20px 0 rgba(255, 60, 0, 0.25), -20px 0 #ff3d00;\n\t\t}\n\t\t50% {\n\t\t\tbackground-color: #ff3d00;\n\t\t\tbox-shadow: 20px 0 rgba(255, 60, 0, 0.25),\n\t\t\t\t-20px 0 rgba(255, 60, 0, 0.25);\n\t\t}\n\t\t100% {\n\t\t\tbackground-color: rgba(255, 60, 0, 0.25);\n\t\t\tbox-shadow: 20px 0 #ff3d00, -20px 0 rgba(255, 60, 0, 0.25);\n\t\t}\n\t}\n'])))),Kt=function(){return Object(oe.jsx)(Jt,{children:Object(oe.jsx)("span",{className:"loader"})})},Qt=D.a.div(T||(T=Object(l.a)(["\n"]))),Xt=function(){var e=Object(j.f)(),t=Object(W.b)(),n=Object(W.c)((function(e){return e.themeReducer})).loading;return Object(r.useEffect)((function(){var n=Object(d.d)(x,(function(n){if(t(He()),n){var r=function(){var e=Object(u.a)(o.a.mark((function e(){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(n.uid);case 2:r=e.sent,t(ae(r.result));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r(),t(Ut(n)),t(Ve()),e.push("/home")}return t(It()),t(ce()),t(Ve()),e.push("login")}));return n}),[e,t]),Object(oe.jsx)(oe.Fragment,{children:n?Object(oe.jsx)(Kt,{}):Object(oe.jsxs)(Qt,{children:[" ",Object(oe.jsx)(wt,{})," "]})})};var Zt=function(){return Object(oe.jsxs)(W.a,{store:Ft,children:[Object(oe.jsx)(b.a,{basename:window.location.pathname||"",children:Object(oe.jsx)(j.c,{children:Object(oe.jsx)(Xt,{})})}),Object(oe.jsx)(Pt,{})]})};n(331);s.a.render(Object(oe.jsx)(a.a.StrictMode,{children:Object(oe.jsx)(Zt,{})}),document.getElementById("root"))}},[[332,1,2]]]);
//# sourceMappingURL=main.83f99674.chunk.js.map
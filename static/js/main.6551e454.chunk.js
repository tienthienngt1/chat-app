(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{329:function(e,t,n){},332:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(43),s=n.n(c),i=n(1),o=n.n(i),u=n(2),l=n(34),j=n(40),b=n(47),d=n(113),h=n(67),p=n(39),m=n(231),O=n(197),f=n(227),x=Object(O.a)({apiKey:"AIzaSyCy9Q5bRqojCmB8OWmb3hCeUX4IePejfvY",authDomain:"chat-app-demo-ca0b4.firebaseapp.com",projectId:"chat-app-demo-ca0b4",storageBucket:"chat-app-demo-ca0b4.appspot.com",messagingSenderId:"980695992241",appId:"1:980695992241:web:531116cf3aaced29fe5f90",measurementId:"G-1N8M101L34"}),g=Object(h.c)(x),v=Object(p.d)(x);Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(h.e)(g,h.b);case 1:case"end":return e.stop()}}),e)})))(),Object(f.a)(x);m.a;var y,w,k,R,C,I,U,S,N,L,E,_,F,M,T,A=n(337),z=n(338),D=n(41),B=n(341),W=n(37),Y=n(38),q=n(349),G=n(350),V=n(348),H=n(60),P=n(48),J=n(78),K=function(){if(!g.currentUser)return localStorage.clear(),void window.location.reload()},Q=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,a,c,s,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(),n=g.currentUser,r=n.displayName,a=n.email,c=n.phoneNumber,s=n.photoURL,i=n.uid,u={displayName:r,email:a,phoneNumber:c,photoURL:s,uid:i},e.prev=3,e.next=6,Object(J.a)(Object(J.b)(v,"rooms"),Object(Y.a)(Object(Y.a)({},t),{},{photo:"",members:[i],messages:[],info_member:[{infoUser:u}],created_at:Object(J.i)()}));case 6:return e.abrupt("return",{status:!0});case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",{error:e.t0,status:!1});case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(),(r=Array.from(t.messages)).push({id:t.id,message:n,created_at:(new Date).getTime(),user:{id:g.currentUser.uid,displayName:g.currentUser.displayName,photoURL:g.currentUser.photoURL}}),e.prev=3,console.log(t.id),e.next=7,Object(J.j)(Object(J.c)(Object(J.b)(v,"rooms"),t.id),{messages:r});case 7:return e.abrupt("return",{status:!0});case 10:return e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",{error:e.t0,status:!1});case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(),e.prev=1,e.next=4,Object(J.a)(Object(J.b)(v,"users"),{displayName:g.currentUser.displayName,photoURL:g.currentUser.photoURL,email:g.currentUser.email,phoneNumber:g.currentUser.phoneNumber,uid:g.currentUser.uid,keywords:$(g.currentUser.displayName),created_at:Object(J.i)()});case 4:return e.abrupt("return",{status:!0});case 7:return e.prev=7,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",{status:!1,error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),$=function(e){for(var t=e.split(" ").filter((function(e){return e})),n=t.length,r=[],a=[],c=[],s=0;s<n;s++)r[s]=!1;!function e(s){for(var i=0;i<n;i++)r[i]||(r[i]=!0,a[s]=t[i],s===n-1&&c.push(a.join(" ")),e(s+1),r[i]=!1)}(0);var i=c.reduce((function(e,t){var n=function(e){var t=[],n="";return e.split("").forEach((function(e){n+=e,t.push(n.toUpperCase())})),t}(t);return[].concat(Object(P.a)(e),Object(P.a)(n))}),[]);return i},ee=n(74),te=Object(ee.b)({name:"room",initialState:{currentRoom:null,listRoom:null},reducers:{setCurrentRoom:function(e,t){e.currentRoom=t.payload},setListRoom:function(e,t){e.listRoom=t.payload},resetRoom:function(e){e.currentRoom=null}}}),ne=te.actions,re=ne.setCurrentRoom,ae=ne.setListRoom,ce=ne.resetRoom,se=te.reducer,ie=n(221),oe=n(10),ue=Object(D.a)(A.a)(y||(y=Object(j.a)(["\n\tmax-width: 650px;\n\twidth: 100%;\n\tpadding: 10px;\n  .cs-message{\n    &-list, &-input, &__sent-time{\n      ","\n    }\n  }\n"])),(function(e){return e.theme.theme?e.theme.light:e.theme.dark})),le=function(e){var t=Object(W.c)((function(e){return e.themeReducer})),n=e.messages,r=Object(W.b)(),a=function(){var t=Object(u.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return a=n.trim(),t.next=5,X(e,a);case 5:t.sent.status&&Object(p.e)(Object(p.b)(v,"rooms",e.id),(function(e){r(re(Object(Y.a)(Object(Y.a)({},e.data()),{},{id:e.id})))}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(e){return e.getDate()},s=function(e){return e.getFullYear()},i=function(e){return e.getMonth()},l=function(e){return e.getHours()},j=function(e){return e.getMinutes()},b=function(e){return e.getSeconds()},d=function(e){var t=new Date(e);return{Y:s(t),M:i(t),D:c(t),h:l(t),m:j(t),s:b(t)}};return Object(oe.jsx)(A.a,{justify:"center",children:Object(oe.jsx)(ue,{align:"center",theme:t,children:Object(oe.jsx)(z.a,{span:24,children:Object(oe.jsxs)(H.a,{style:{height:"80vh"},children:[Object(oe.jsx)(H.h,{children:n&&n.map((function(e){var t,n;return Object(oe.jsxs)(H.f,{direction:g.currentUser.uid===e.user.id?"outgoing":"incoming",sender:e.user.displayName,children:[Object(oe.jsx)(V.a,{as:"Avatar",src:e.user.photoURL,children:null===(t=e.user.displayName)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase()}),Object(oe.jsxs)(H.f.Messages,{children:[Object(oe.jsx)(H.e,{model:{message:e.message}}),Object(oe.jsx)(H.e.Footer,{sentTime:Object(ie.a)(new Date(d(e.created_at).Y,d(e.created_at).M,d(e.created_at).D,d(e.created_at).h,d(e.created_at).m,d(e.created_at).s),{addSuffix:!0,includeSeconds:!0})})]})]})}))}),Object(oe.jsx)(H.g,{onSend:a,placeholder:"Type message here...",attachButton:!1})]})})})})},je=n(83),be=n(225),de=Object(ee.b)({name:"modal",initialState:{isOpen:!1,isOpenInvite:!1},reducers:{setIsOpenModalTrue:function(e){e.isOpen=!0},setIsOpenModalFalse:function(e){e.isOpen=!1},setIsOpenInviteTrue:function(e){e.isOpenInvite=!0},setIsOpenInviteFalse:function(e){e.isOpenInvite=!1}}}),he=de.actions,pe=he.setIsOpenModalFalse,me=he.setIsOpenModalTrue,Oe=he.setIsOpenInviteFalse,fe=he.setIsOpenInviteTrue,xe=de.reducer,ge=Object(D.a)(H.c)(w||(w=Object(j.a)(["\n   ","\n   .cs-conversation-header{\n     &__user-name, &__info{\n      ","\n     }\n   }\n"])),(function(e){return e.theme.theme?e.theme.light:e.theme.dark}),(function(e){return e.theme.theme?e.theme.light:e.theme.dark})),ve=function(e){var t,n,a=Object(W.b)(),c=Object(W.c)((function(e){return e.roomReducer.currentRoom})).id,s=Object(W.c)((function(e){return e.themeReducer}));return Object(r.useEffect)((function(){var t=Object(p.e)(Object(p.b)(v,"rooms",e.id),(function(e){a(re(Object(Y.a)(Object(Y.a)({},e.data()),{},{id:c})))}));return function(){return t()}}),[a,c,e]),Object(oe.jsxs)(ge,{theme:s,children:[Object(oe.jsx)(H.c.Back,{onClick:function(){window.innerWidth<576&&e.setState(0),a(ce())}}),Object(oe.jsx)(V.a,{as:"Avatar",size:"large",src:e.photo,children:null===e||void 0===e||null===(t=e.room_name)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase()}),Object(oe.jsx)(H.c.Content,{userName:e.room_name,info:e.description}),Object(oe.jsxs)(H.c.Actions,{children:[Object(oe.jsx)(je.a,{icon:Object(oe.jsx)(be.a,{}),size:"large",shape:"circle",as:"Avatar",onClick:function(){return a(fe())}}),Object(oe.jsx)(V.a.Group,{as:"Avatar",maxCount:2,children:e.info_member.map((function(e,t){var n,r;return Object(oe.jsx)(V.a,{src:e.infoUser.photoURL,size:"large",children:null===(n=e.infoUser.displayName)||void 0===n||null===(r=n.charAt(0))||void 0===r?void 0:r.toUpperCase()},t)}))})]})]})},ye=Object(D.a)(A.a)(k||(k=Object(j.a)(["\n\tflex-direction: column;\n\twidth: 100%;\n"]))),we=function(e){var t=Object(W.c)((function(e){return e.roomReducer})).currentRoom;return Object(oe.jsx)(ye,{justify:"center",children:t?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(z.a,{children:Object(oe.jsx)(q.a,{offsetTop:!0,children:Object(oe.jsx)(ve,Object(Y.a)(Object(Y.a)({},t),e))})}),Object(oe.jsx)(z.a,{children:Object(oe.jsx)(le,Object(Y.a)({},t))})]}):Object(oe.jsx)(G.a,{message:"You haven't selected any chat yet.",showIcon:!0,type:"info",closable:!0})})},ke=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(p.g)(Object(p.a)(v,"rooms"),Object(p.i)("members","array-contains",t)),e.prev=1,r=[],e.next=5,Object(p.c)(n);case 5:return e.sent.forEach((function(e){r.push(Object.assign(e.data(),{id:e.id}))})),e.abrupt("return",{result:r,status:!0});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{error:e.t0,status:!1});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=Object(p.a)(v,"users"),e.prev=3,r=[],a=Object(p.g)(n,Object(p.i)("keywords","array-contains",null===t||void 0===t?void 0:t.toUpperCase()),Object(p.f)("displayName")),e.next=8,Object(p.c)(a);case 8:return e.sent.forEach((function(e){r.push(e.data())})),e.abrupt("return",{status:!0,result:r});case 13:return e.prev=13,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",{status:!1,error:e.t0});case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(p.g)(Object(p.a)(v,"users"),Object(p.i)("uid","==",t)),e.next=4,Object(p.c)(n);case 4:return e.sent.forEach((function(e){r=e.data()})),e.abrupt("return",{status:!0,result:r});case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{status:!1,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Ie=D.a.div(R||(R=Object(j.a)(["\n\tmargin-top: 65px;\n\tposition: relative;\n\theight: 80vh;\n\toverflow: scroll;\n\tpadding: 5px;\n\tborder-top: 2px solid #000;\n\tborder-right: 2px solid #000;\n\t-ms-overflow-style: none; /* IE and Edge */\n\tscrollbar-width: none; /* Firefox */\n\t/* Hide scrollbar for Chrome, Safari and Opera */\n\t&::-webkit-scrollbar {\n\t\tdisplay: none;\n\t}\n\tbutton {\n\t\tposition: absolute;\n\t\tbottom: 20px;\n\t\tright: 10px;\n\t}\n\t.cs-conversation__name, .cs-conversation__info{\n\t   color: ","\n\t}\n"])),(function(e){return e.theme.theme?"#000":"#fff"})),Ue=function(e){var t,n,r=Object(W.b)();return Object(oe.jsx)(H.b,{onClick:function(){r(re(e)),window.innerWidth<576&&e.setState(2)},name:e.room_name,info:e.description,children:Object(oe.jsx)(V.a,{as:"Avatar",src:e.photoURL,style:{marginRight:"10px"},children:null===e||void 0===e||null===(t=e.room_name)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase()})})},Se=function(e){var t=Object(W.c)((function(e){return e})),n=t.roomReducer.listRoom,a=t.themeReducer,c=Object(W.b)();return Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=g.currentUser,!e.t0){e.next=5;break}return e.next=4,ke(g.currentUser.uid);case 4:e.t0=e.sent;case 5:(t=e.t0)&&c(ae(t.result));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=Object(p.e)(Object(p.a)(v,"rooms"),(function(t){e()}));return function(){return t()}}),[c]),Object(oe.jsx)(Ie,{theme:a,children:Object(oe.jsx)(H.d,{children:n&&n.length?n.map((function(t,n){return Object(oe.jsx)(Ue,Object(Y.a)(Object(Y.a)({},t),e),n)})):Object(oe.jsx)(G.a,{as:"Conversation",type:"info",message:"You haven't joined any room yet!",showIcon:!0})})})},Ne=n(87),Le=n(344),Ee=n(353),_e=n(343),Fe=n(354),Me=n(351),Te=n(355),Ae=n(357),ze=n(358),De=n(339),Be=n(102),We=n(359),Ye=Object(ee.b)({name:"theme",initialState:{theme:!0,light:{background:"#fff",color:"#000"},dark:{background:"#00152a",color:"#fff"}},reducers:{setTheme:function(e){e.theme=!e.theme}}}),qe=Ye.actions.setTheme,Ge=Ye.reducer,Ve=D.a.div(C||(C=Object(j.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 60px;\n\tpadding: 5px;\n\t.ant-row .ant-col {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t}\n\th1{\n\t  ","\n\t}\n"])),(function(e){return e.theme.theme?e.theme.light:e.theme.dark})),He=function(){var e=Object(W.b)();return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(Ne.a,{title:"Create Chat Room",children:Object(oe.jsx)(je.a,{shape:"circle",size:"large",type:"primary",onClick:function(){e(me())},children:Object(oe.jsx)(Te.a,{})})})})},Pe=Object(D.a)(Le.a)(I||(I=Object(j.a)(["\n borderRadius: 10px;\n .ant-typography{\n  color: ","\n }\n"])),(function(e){return e.themecus.theme?"#000":"#fff"})),Je=function(e){var t=Object(W.b)(),n=Object(W.c)((function(e){return e.themeReducer}));return Object(oe.jsxs)(Pe,{themecus:n,theme:n.theme?"light":"dark",children:[Object(oe.jsx)(Le.a.Item,{onClick:function(){return e.setState(1)},style:{borderRadius:"10px"},children:Object(oe.jsxs)(Ee.b,{children:[Object(oe.jsx)(Ae.a,{}),Object(oe.jsx)(_e.a.Text,{children:"Setting"})]})}),Object(oe.jsx)(Le.a.Item,{children:Object(oe.jsxs)(Ee.b,{children:[Object(oe.jsx)(ze.a,{}),Object(oe.jsx)(_e.a.Text,{children:"Dark Mode"}),Object(oe.jsx)(Fe.a,{checked:!n.theme,onClick:function(){t(qe()),e.setIsDisplay(!1)}})]})})]})},Ke=function(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),a=n[0],c=n[1];return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(Me.a,{overlay:Object(oe.jsx)(Je,Object(Y.a)(Object(Y.a)({},e),{},{setIsDisplay:c})),placement:"bottomRight",visible:a,children:Object(oe.jsx)("div",{children:a?Object(oe.jsx)(De.a,{style:{color:"black",fontSize:"30px"},component:Be.a,onClick:function(){return c(!1)}}):Object(oe.jsx)(De.a,{type:"black",style:{fontSize:"30px"},component:We.a,onClick:function(){return c(!0)}})})})})},Qe=function(e){var t=Object(W.c)((function(e){return e.themeReducer}));return Object(oe.jsx)(Ve,{theme:t,children:Object(oe.jsxs)(A.a,{justify:"center",align:"center",children:[Object(oe.jsx)(z.a,{span:4,children:Object(oe.jsx)(Ke,Object(Y.a)({},e))}),Object(oe.jsx)(z.a,{span:16,children:Object(oe.jsx)("center",{children:Object(oe.jsx)("h1",{children:"ROOM LIST"})})}),Object(oe.jsx)(z.a,{span:4,children:Object(oe.jsx)(He,{})})]})})},Xe=n(342),Ze=n(347),$e=n(356),et=n(360),tt=Object(D.a)(A.a)(U||(U=Object(j.a)(["\n\tbox-shadow: 0 4px 6px -6px #222;\n\tmargin-bottom: 20px;\n\t.ant-typography{ \n\t  margin-left: 20px;\n\t  ","\n\t}\n"])),(function(e){return e.theme.theme?e.theme.light:e.theme.dark})),nt=function(e){var t=Object(W.c)((function(e){return e.themeReducer}));return Object(oe.jsxs)(tt,{justify:"start",align:"middle",theme:t,children:[Object(oe.jsx)(z.a,{children:Object(oe.jsx)(Ne.a,{title:"Back",children:Object(oe.jsx)(je.a,{onClick:function(){return e.setState(0)},icon:Object(oe.jsx)($e.a,{}),size:"large",shape:"circle"})})}),Object(oe.jsx)(z.a,{children:Object(oe.jsx)(_e.a.Title,{level:2,children:"Settings"})})]})},rt=function(e){return Object(oe.jsxs)(Xe.a,Object(Y.a)(Object(Y.a)({},e),{},{name:"form_name",labelCol:{span:4},wrapperCol:{span:20},children:[Object(oe.jsx)(Xe.a.Item,{label:"Full Name",name:"username",rules:[{require:!0,message:"Please input your username"}],children:Object(oe.jsx)(Ze.a,{disabled:!0,defaultValue:e.displayName})}),Object(oe.jsx)(Xe.a.Item,{label:"Email",name:"email",rules:[{require:!0,message:"Please input your username"}],children:Object(oe.jsx)(Ze.a,{disabled:!0,defaultValue:e.email})})]}))},at=D.a.div(S||(S=Object(j.a)(["\n\tpadding: 5px;\n  .ant-typography, label{\n    ","\n  }\n"])),(function(e){return e.theme.theme?e.theme.light:e.theme.dark})),ct=function(){var e,t,n=Object(b.f)(),r=Object(W.c)((function(e){return e})),a=r.userReducer,c=r.themeReducer,s=a.user;return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(at,{theme:c,children:[Object(oe.jsxs)(A.a,{justify:"center",align:"center",children:[Object(oe.jsx)(V.a,{size:"large",src:s&&s.photoURL,children:s&&(null===(e=s.displayName)||void 0===e||null===(t=e.slice(0,1))||void 0===t?void 0:t.toUpperCase())}),Object(oe.jsx)(_e.a.Title,{level:2,style:{marginLeft:"10px"},children:s&&s.displayName})]}),Object(oe.jsx)(rt,Object(Y.a)({style:{margin:"20px 0px"}},s)),Object(oe.jsx)(A.a,{justify:"center",style:{marginTop:"20px"},children:Object(oe.jsx)(Ne.a,{title:"Loggout",children:Object(oe.jsxs)(je.a,{block:!0,shape:"round",size:"large",onClick:function(){var e=Object(h.c)();Object(h.g)(e).then((function(){localStorage.clear(),n.push("/login")}))},children:[Object(oe.jsx)(et.a,{})," Loggout"]})})})]})})},st=function(e){return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(nt,Object(Y.a)({},e)),Object(oe.jsx)(ct,{})]})},it=n(352),ot=function(){var e=Object(r.useState)(0),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(oe.jsx)(it.a,{exitBeforeEnter:!0,children:1===n?Object(oe.jsx)(B.a.div,{initial:{x:-100},animate:{x:0},exit:{x:"-100vw"},children:Object(oe.jsx)(st,{setState:a})},"modal"):2===n?Object(oe.jsx)(B.a.div,{initial:{x:-100},animate:{x:0},exit:{x:"-100vw"},children:Object(oe.jsx)(we,{setState:a})},"modal"):Object(oe.jsxs)(B.a.div,{initial:{opacity:0},animate:{opacity:1},children:[Object(oe.jsx)(Qe,{setState:a}),Object(oe.jsx)(Se,{setState:a})]})})},ut=Object(D.a)(A.a)(N||(N=Object(j.a)(["\n\theight: 90vh;\n\t","\n"])),(function(e){return e.theme.theme?e.theme.light:e.theme.dark})),lt=function(){var e=window.innerWidth,t=Object(r.useState)(!0),n=Object(l.a)(t,2),a=n[0],c=n[1];e<768&&a&&c(!1);var s=Object(W.c)((function(e){return e.themeReducer}));return Object(r.useEffect)((function(){return window.addEventListener("resize",(function(){window.innerWidth<768?a&&c(!1):a||c(!0)}))}),[a]),Object(oe.jsx)(B.a.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:.5},children:Object(oe.jsxs)(ut,{justify:"center",theme:s,children:[Object(oe.jsx)(z.a,{span:24,lg:8,md:10,xxl:6,children:Object(oe.jsx)(ot,{})}),a?Object(oe.jsx)(z.a,{span:24,lg:16,md:14,xxl:18,children:Object(oe.jsx)(we,{})}):""]})})},jt=n.p+"static/media/logo.e6ac4b87.png",bt=D.a.div(L||(L=Object(j.a)(["\n\tpadding: 20px;\n\timg {\n\t\twidth: ",";\n\t}\n"])),(function(e){return e.width<400?e.width-20+"px":"387px"})),dt=function(){return Object(oe.jsx)(bt,{width:window.innerWidth,children:Object(oe.jsxs)("center",{children:[Object(oe.jsx)("img",{src:jt,alt:"logo"}),Object(oe.jsx)("h1",{children:"LOGIN"})]})})},ht=n(361),pt=n(362),mt=n.p+"static/media/author.48cafb7b.gif",Ot=D.a.div(E||(E=Object(j.a)(["\n\tpadding: 10px;\n"]))),ft=function(){var e=Object(b.f)(),t=function(){var t=Object(u.a)(o.a.mark((function t(){var n,r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new h.a,t.prev=1,t.next=4,Object(h.f)(g,n);case 4:if(r=t.sent,console.log(r),a=1*r.user.metadata.createdAt,!(1*r.user.metadata.lastLoginAt-a<=1e3)){t.next=11;break}return t.next=11,Z();case 11:return t.abrupt("return",e.push("/home"));case 14:t.prev=14,t.t0=t.catch(1),alert("Error!");case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(){return t.apply(this,arguments)}}();return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(Ot,{children:Object(oe.jsxs)("center",{children:[Object(oe.jsxs)(Ee.b,{align:"end",children:[Object(oe.jsx)(je.a,{shape:"round",type:"primary",ghost:!0,icon:Object(oe.jsx)(ht.a,{}),children:"Google"}),Object(oe.jsx)(je.a,{onClick:t,shape:"round",danger:!0,type:"ghost",icon:Object(oe.jsx)(pt.a,{}),children:"Facebook"})]}),Object(oe.jsxs)("div",{children:["Design by ",Object(oe.jsx)("img",{src:mt,alt:"author"})]})]})})})},xt=[{path:"/home",component:lt},{path:"/login",component:function(){return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(dt,{}),Object(oe.jsx)(ft,{})]})}}],gt=function(){var e=Object(b.f)();return Object(r.useLayoutEffect)((function(){Object(h.d)(g,(function(t){if(t)return e.push("/home")}))}),[e]),Object(oe.jsx)(oe.Fragment,{children:xt.map((function(e){return Object(oe.jsx)(b.a,{exact:!0,path:e.path,component:e.component},e.path)}))})},vt=n(76),yt=Object(ee.b)({name:"user",initialState:{user:null,isLogin:!1},reducers:{setIsLoginTrue:function(e,t){e.user=t.payload,e.isLogin=!0},setIsLoginFalse:function(e){e.user=null,e.isLogin=!1}}}),wt=yt.actions,kt=wt.setIsLoginFalse,Rt=wt.setIsLoginTrue,Ct=yt.reducer,It=Object(ee.b)({name:"message",initialState:{currentMessage:[]},reducers:{setMessage:function(e,t){e.currentMessage=t.payload},resetMessage:function(e){e.currentMessage=[]}}}),Ut=It.actions,St=(Ut.setMessage,Ut.resetMessage,It.reducer),Nt=Object(vt.b)({userReducer:Ct,modalReducer:xe,roomReducer:se,themeReducer:Ge,messageReducer:St}),Lt=Object(ee.a)({reducer:Nt}),Et=n(346),_t=n(232),Ft=Object(D.a)(Et.a)(_||(_=Object(j.a)(["\n  .ant-modal{\n    &-content, &-header, label, h2{\n      ","\n    }\n  }\n  label, h2{\n      ","\n    }\n"])),(function(e){return e.theme.theme?e.theme.light:e.theme.dark}),(function(e){return e.theme.theme?e.theme.light:e.theme.dark})),Mt=function(){var e=Object(W.b)(),t=Object(W.c)((function(e){return e})),n=t.modalReducer.isOpen,a=t.themeReducer,c=Xe.a.useForm(),s=Object(l.a)(c,1)[0],i=Object(r.useState)(!1),j=Object(l.a)(i,2),b=j[0],d=j[1],h=function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d(!0),(n=s.getFieldValue()).room_name&&n.description){t.next=6;break}return e(pe()),_t.a.warning({message:"WARNING!",description:"Room name or description rooms invalid!"}),t.abrupt("return");case 6:return t.next=8,Q(Object(Y.a)({},n));case 8:t.sent.status?_t.a.success({message:"Create successfully!",description:"Happy fund!"}):_t.a.error({message:"Error!",description:"Try again!"}),e(pe());case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(oe.jsx)(Ft,{theme:a,visible:n,onCancel:function(){e(pe())},title:Object(oe.jsx)("center",{children:Object(oe.jsx)("h2",{children:"Create New Room"})}),onOk:h,confirmLoading:b,children:Object(oe.jsxs)(Xe.a,{form:s,children:[Object(oe.jsx)(Xe.a.Item,{name:"room_name",label:"Name",labelCol:{span:4},rules:[{required:!0}],children:Object(oe.jsx)(Ze.a,{placeholder:"Enter your room name... "})}),Object(oe.jsx)(Xe.a.Item,{name:"description",label:"Description",labelCol:{span:4},rules:[{required:!0}],children:Object(oe.jsx)(Ze.a.TextArea,{placeholder:"Description..."})})]})})},Tt=n(345),At=n(340),zt=n(127),Dt=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r,a,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=1,a=function(e){return r=e},c=Array.from(n.info_member),s=Array.from(n.members),t.forEach(function(){var e=Object(u.a)(o.a.mark((function e(t){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===s.indexOf(t)){e.next=3;break}return a(2),e.abrupt("return");case 3:return e.next=5,Ce(t);case 5:if(!(r=e.sent).status){e.next=23;break}return i=r.result,c.push({infoUser:{displayName:i.displayName,email:i.email,uid:i.uid,photoURL:i.photoURL,phoneNumber:i.phoneNumber}}),s.push(t),e.prev=10,e.next=13,Object(p.h)(Object(p.b)(v,"rooms",n.id),{info_member:c,members:s});case 13:return e.abrupt("return");case 16:return e.prev=16,e.t0=e.catch(10),console.log(e.t0),a(0),e.abrupt("return");case 21:e.next=25;break;case 23:return a(0),e.abrupt("return");case 25:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",{status:r});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Bt=n(164),Wt=n.n(Bt),Yt=Object(D.a)(Et.a)(F||(F=Object(j.a)(["\n  .ant-modal{\n    &-content, &-header, label, h2{\n      ","\n    }\n  }\n  label, h2{\n      ","\n    }\n"])),(function(e){return e.theme.theme?e.theme.light:e.theme.dark}),(function(e){return e.theme.theme?e.theme.light:e.theme.dark})),qt=function(){var e=Object(r.useState)({loading:!1,data:[],value:""}),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(l.a)(c,2),i=s[0],j=s[1],b=Object(W.b)(),d=Object(W.c)((function(e){return e})),h=d.modalReducer,p=d.roomReducer,m=d.themeReducer,O=Object(r.useCallback)(Wt()(function(){var e=Object(u.a)(o.a.mark((function e(t){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(t);case 2:(r=e.sent).status&&(c=[],r.result.forEach((function(e){var t,n;c.push({label:Object(oe.jsxs)(oe.Fragment,{children:[" ",Object(oe.jsxs)(V.a,{src:e.photoURL,style:{marginRight:"10px"},children:[null===e||void 0===e||null===(t=e.displayName)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase()," "]}),e.displayName," "]}),value:e.uid})})),a(Object(Y.a)(Object(Y.a)({},n),{},{loading:!1,data:c})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),1500),[]),f=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Dt(i,p.currentRoom);case 4:t=e.sent,_t.a[1===t.status?"success":"error"]({message:1===t.status?"SUCCESS!":"ERROR!",description:1===t.status?"Invited successfully!":2===t.status?"Member was in room":"Error"}),b(Oe());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(oe.jsxs)(Yt,{theme:m,visible:h.isOpenInvite,onCancel:function(){b(Oe())},title:Object(oe.jsxs)("center",{children:[" ",Object(oe.jsx)("h2",{children:" Invite Friend "})," "]}),onOk:f,children:[" ",Object(oe.jsx)(Tt.a,{mode:"multiple",onBlur:function(){a({loading:!1,data:[],value:""})},allowClear:!0,style:{width:"100%"},placeholder:"Enter your friend name...",onChange:function(e){return j(e)},onSearch:function(e){a(Object(Y.a)(Object(Y.a)({},n),{},{value:e})),e&&(n.loading||a({data:[],loading:!0}),O(e.trim()))},searchValue:n.value,notFoundContent:n.loading?Object(oe.jsx)("center",{children:Object(oe.jsx)(At.a,{size:"large"})}):Object(oe.jsx)(zt.a,{}),options:n.data})," "]})},Gt=function(){var e=Object(W.c)((function(e){return e})).modalReducer;return Object(oe.jsxs)(oe.Fragment,{children:[e.isOpen&&Object(oe.jsx)(Mt,{}),e.isOpenInvite&&Object(oe.jsx)(qt,{})]})},Vt=(n(329),n(330),D.a.div(M||(M=Object(j.a)(['\n\twidth: 100vw;\n\theight: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items:center;\n\t.loader {\n\t\twidth: 100px;\n\t\theight: 75px;\n\t\tmargin: 0 auto;\n\t\tbackground: #E4E9BE;\n\t\tposition: relative;\n\t\tborder-radius: 100%;\n\t}\n\t.loader:before {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t\tbox-sizing: border-box;\n\t\tborder: 15px solid transparent;\n\t\tborder-top: 25px solid #E4E9BE;\n\t\ttransform: rotate(45deg);\n\t\ttop: 50px;\n\t\tleft: -15px;\n\t}\n\n\t.loader:after {\n\t\tcontent: "";\n\t\twidth: 12px;\n\t\theight: 12px;\n\t\tposition: absolute;\n\t\tleft: 50%;\n\t\ttop: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\tborder-radius: 50%;\n\t\tbackground-color: #ff3d00;\n\t\tbox-shadow: 20px 0 #ff3d00, -20px 0 #ff3d00;\n\t\tanimation: flash 0.5s ease-out infinite alternate;\n\t}\n\n\t@keyframes flash {\n\t\t0% {\n\t\t\tbackground-color: rgba(255, 60, 0, 0.25);\n\t\t\tbox-shadow: 20px 0 rgba(255, 60, 0, 0.25), -20px 0 #ff3d00;\n\t\t}\n\t\t50% {\n\t\t\tbackground-color: #ff3d00;\n\t\t\tbox-shadow: 20px 0 rgba(255, 60, 0, 0.25),\n\t\t\t\t-20px 0 rgba(255, 60, 0, 0.25);\n\t\t}\n\t\t100% {\n\t\t\tbackground-color: rgba(255, 60, 0, 0.25);\n\t\t\tbox-shadow: 20px 0 #ff3d00, -20px 0 rgba(255, 60, 0, 0.25);\n\t\t}\n\t}\n'])))),Ht=function(){return Object(oe.jsx)(Vt,{children:Object(oe.jsx)("span",{className:"loader"})})},Pt=D.a.div(T||(T=Object(j.a)(["\n"]))),Jt=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(b.f)(),s=Object(W.b)();return Object(r.useEffect)((function(){var e=Object(h.d)(g,(function(e){if(a(!0),e){var t=function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ke(e.uid);case 2:n=t.sent,s(ae(n.result));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t(),s(Rt(e)),a(!0),c.push("/home")}return s(kt()),s(ce()),s(ce()),a(!0),c.push("login")}));return e}),[c,s,a]),Object(oe.jsx)(oe.Fragment,{children:n?Object(oe.jsxs)(Pt,{children:[" ",Object(oe.jsx)(gt,{})," "]}):Object(oe.jsx)(Ht,{})})};var Kt=function(){return Object(oe.jsxs)(W.a,{store:Lt,children:[Object(oe.jsx)(d.a,{children:Object(oe.jsx)(b.c,{children:Object(oe.jsx)(Jt,{})})}),Object(oe.jsx)(Gt,{})]})};n(331);s.a.render(Object(oe.jsx)(a.a.StrictMode,{children:Object(oe.jsx)(Kt,{})}),document.getElementById("root"))}},[[332,1,2]]]);
//# sourceMappingURL=main.6551e454.chunk.js.map